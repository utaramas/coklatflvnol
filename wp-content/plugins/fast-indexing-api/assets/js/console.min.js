jQuery(document).ready(function(c){var g=c("#giapi-response");var a=c("#giapi-submit");var d=c("#giapi-url");var f=c(".giapi-action");var b=c("#giapi-response-userfriendly");var e=function(l,h){var p=new Date();var j=p.toLocaleTimeString();var r=d.val().split("\n").filter(Boolean);var s=r[0];var k=false;var m=f.filter(":checked").val();if(r.length>1){s="(batch)";k=true}b.removeClass("not-ready fail success").addClass("ready").find(".response-id").html("<strong>"+m+"</strong> "+s);if(!k){if(typeof l.error!=="undefined"){b.addClass("fail").find(".response-status").text(rm_giapi.l10n_error+" "+l.error.code).siblings(".response-message").text(l.error.message)}else{var i=l;if(typeof l.urlNotificationMetadata!="undefined"){i=l.urlNotificationMetadata}var p=new Date(i.latestUpdate.notifyTime);b.addClass("success").find(".response-status").text(rm_giapi.l10n_success+" ").siblings(".response-message").text(rm_giapi.l10n_last_updated+" "+p.toString())}}else{b.addClass("success").find(".response-status").text(rm_giapi.l10n_success+" ").siblings(".response-message").text(rm_giapi.l10n_see_response);if(typeof l.error!=="undefined"){b.addClass("fail").find(".response-status").text(rm_giapi.l10n_error+" "+l.error.code).siblings(".response-message").text(l.error.message)}else{c.each(l,function(t,v){if(typeof v.error!=="undefined"){var n="";if(typeof v.error.code!=="undefined"){n=v.error.code}var u="";if(typeof v.error.message!=="undefined"){u=v.error.message}b.addClass("fail").find(".response-status").text(rm_giapi.l10n_error+" "+n).siblings(".response-message").text(v.error.message)}})}}var q=j+" "+m+" "+s+"\n"+JSON.stringify(l,null,2)+"\n"+"-".repeat(56);var o=g.val();g.val(q+"\n"+o)};c("#giapi-response-trigger").click(function(h){h.preventDefault();c(this).find(".dashicons").toggleClass("dashicons-arrow-down-alt2 dashicons-arrow-up-alt2");c("#giapi-response-wrapper").toggle()});c("#instant-indexing").submit(function(h){h.preventDefault();a.attr("disabled","disabled");var i=d.val();c.ajax({url:ajaxurl,type:"POST",dataType:"json",data:{action:"rm_giapi",url:i,api_action:f.filter(":checked").val()},}).always(function(j){e(j,i);a.removeAttr("disabled");c.ajax({url:ajaxurl,type:"POST",dataType:"json",data:{action:"rm_giapi_limits"},}).done(function(k){c.each(k,function(l,m){c("#giapi-limit-"+l).text(m)})})})});if(rm_giapi.submit_onload){c("#instant-indexing").submit()}});